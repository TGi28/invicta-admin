import{j as g,L as S,o as a,d as c,u as e,f as i,g as n,k as p,l as x,h as u,B as F,t as U,aV as j,R as B}from"./vendor-BBeuKY12.js";/* empty css                */import{j as P,g as z,i as R,h as V,e as $}from"./dropdown-menu-BcHbiyc6.js";import{_ as w}from"./Loading-BOuKvXdY.js";import"./main-BadYl8Ln.js";const N={class:"mb-2"},D={key:0,class:"flex items-center justify-between"},L={key:1,class:"my-3"},T={key:2,class:"flex items-center justify-center h-full py-10"},E={class:"flex items-center justify-between p-3 mt-2"},A={__name:"tableField",props:{formId:String,data:Object,path:String},setup(l){const r=l,o=g(!1),s=g(),t=P(r.data.id);return S(()=>{o.value=!0,Invicta.axios.get(r.data.resourceUrl,{params:{settings:!0}}).then(({data:d})=>{t.initForm(r.data.resourceUrl,d),s.value=d,o.value=!1,r.data.searchFilter&&t.getResourceFilters(t.static.settings.handle)})}),(d,m)=>{const _=z,f=R,h=V,v=w,y=$,b=j,k=B;return a(),c("div",N,[e(s)&&l.data.searchFilter?(a(),c("div",D,[(a(),i(_,{size:"default",class:"max-w-sm",currentSearch:e(s).meta.search,key:e(t).static.settings.handle,onUpdate:e(t).setSearch},null,8,["currentSearch","onUpdate"])),e(t).static.filters?(a(),i(f,{key:0,"resource-handle":e(t).static.settings.handle,filters:e(t).static.filters,"active-filters":e(t).data.activeFilters},null,8,["resource-handle","filters","active-filters"])):n("",!0)])):n("",!0),e(o)?n("",!0):(a(),c("div",L,[p(h,{badges:e(t).data.filterBadges},null,8,["badges"])])),e(o)?(a(),c("div",T,[p(v)])):e(s)?x((a(),i(y,{key:l.data.id,"resource-handle":e(t).static.settings.handle,data:e(t).data.resourceData,"table-props":e(t).static.settings.table,columns:e(t).static.settings.columns,"columns-select":!1,"can-edit":!1,"can-delete":!1,"has-detail":!1,"no-select":!0},null,8,["resource-handle","data","table-props","columns"])),[[k,e(t).data.loading]]):n("",!0),u("div",E,[u("div",null,[m[0]||(m[0]=F("Total: ")),u("strong",null,U(e(t).data.total),1)]),e(s)&&e(s).meta.last_page>1?(a(),i(b,{key:0,background:"",small:"",layout:"prev, pager, next, jumper","current-page":e(t).data.currentPage,"page-size":e(t).data.perPage,"pager-count":5,total:e(t).data.total,"onUpdate:pageSize":e(t).setPageSize,"onUpdate:currentPage":e(t).setPage},null,8,["current-page","page-size","total","onUpdate:pageSize","onUpdate:currentPage"])):n("",!0)])])}}};export{A as default};
