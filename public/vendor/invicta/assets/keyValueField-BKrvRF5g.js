import{_ as B}from"./FieldBase-CJqAS9Xu.js";import{j as $,K as F,aa as g,a5 as S,o as i,f as x,w as f,h as e,t as c,d as _,F as C,p as L,u as h,l as k,aV as V,k as v,ak as N,B as U,D}from"./vendor-DNNQIDVf.js";import{u as O}from"./field-B4hST7Z8.js";/* empty css                  */import"./FormBase-DYw9ghXD.js";/* empty css                      *//* empty css             */import"./main-bEgEWTd2.js";import"./dynamic-import-helper-BheWnx7M.js";const j={class:"keyValue-table"},E={colspan:"2"},I={class:"w-1/4"},K=["name","onUpdate:modelValue"],R=["name","onUpdate:modelValue"],T={class:"action"},A={class:"mt-3"},Y={__name:"keyValueField",props:{formId:String,data:Object,path:String},setup(t){const m=t,p=O(m).value({}),o=$(y(p.value));F(()=>o.value,(a,u)=>{p.value=a.reduce((l,n)=>(l[n.key]=n.value,l),{})},{deep:!0});function y(a){return g(a)&&(a=JSON.parse(a)),S(Object.entries(a),([u,l])=>({key:`${u}`,value:l}))}function b(){let a={key:"",value:""};o.value.push(a)}function w(a){o.value.splice(a,1)}return(a,u)=>{const l=D,n=B;return i(),x(n,{"form-id":t.formId,"field-props":m},{default:f(()=>[e("table",j,[e("thead",null,[e("tr",null,[e("th",null,c(t.data.keyLabel||"Key"),1),e("th",E,c(t.data.valueLabel||"Value"),1)])]),e("tbody",null,[(i(!0),_(C,null,L(h(o),(s,r)=>(i(),_("tr",null,[e("td",I,[k(e("input",{name:`${t.data.id}-key-${r}`,"onUpdate:modelValue":d=>s.key=d},null,8,K),[[V,s.key]])]),e("td",null,[k(e("input",{name:`${t.data.id}-value-${r}`,"onUpdate:modelValue":d=>s.value=d},null,8,R),[[V,s.value]])]),e("td",T,[v(l,{text:"",onClick:d=>w(r),icon:h(N)},null,8,["onClick","icon"])])]))),256))])]),e("div",A,[v(l,{type:"primary",onClick:b},{default:f(()=>[U(c(t.data.addLabel||"Add"),1)]),_:1})])]),_:1},8,["form-id","field-props"])}}};export{Y as default};
