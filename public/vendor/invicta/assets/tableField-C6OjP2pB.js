import{j as p,J as S,o as a,d as c,u as e,f as i,g as r,k as g,l as x,h as u,B as F,t as U,al as B,R as P}from"./vendor-DNNQIDVf.js";/* empty css                */import{c as j,b as z,a as R}from"./resource-CxGGqGWg.js";/* empty css               */import{_ as $}from"./CheckTree-DMv88Hj1.js";import{a as w,_ as N}from"./Filters-CoJGGan2.js";/* empty css                 */import"./main-bEgEWTd2.js";/* empty css                  */import"./functions-D7TSWOGs.js";/* empty css                    */const V={class:"mb-2"},D={key:0,class:"flex items-center justify-between"},T={key:1,class:"my-3"},E={key:2,class:"flex items-center justify-center h-full py-10"},I={class:"flex items-center justify-between p-3 mt-2"},W={__name:"tableField",props:{formId:String,data:Object,path:String},setup(l){const n=l,o=p(!1),s=p(),t=j(n.data.id);return S(()=>{o.value=!0,Invicta.axios.get(n.data.resourceUrl,{params:{settings:!0}}).then(({data:d})=>{t.initForm(n.data.resourceUrl,d),s.value=d,o.value=!1,n.data.searchFilter&&t.getResourceFilters(t.static.settings.handle)})}),(d,m)=>{const _=z,f=w,h=N,v=$,b=R,y=B,k=P;return a(),c("div",V,[e(s)&&l.data.searchFilter?(a(),c("div",D,[(a(),i(_,{size:"default",class:"max-w-sm",currentSearch:e(s).meta.search,key:e(t).static.settings.handle,onUpdate:e(t).setSearch},null,8,["currentSearch","onUpdate"])),e(t).static.filters?(a(),i(f,{key:0,"resource-handle":e(t).static.settings.handle,filters:e(t).static.filters,"active-filters":e(t).data.activeFilters},null,8,["resource-handle","filters","active-filters"])):r("",!0)])):r("",!0),e(o)?r("",!0):(a(),c("div",T,[g(h,{badges:e(t).data.filterBadges},null,8,["badges"])])),e(o)?(a(),c("div",E,[g(v)])):e(s)?x((a(),i(b,{key:l.data.id,"resource-handle":e(t).static.settings.handle,data:e(t).data.resourceData,"table-props":e(t).static.settings.table,columns:e(t).static.settings.columns,"columns-select":!1,"can-edit":!1,"can-delete":!1,"has-detail":!1,"no-select":!0},null,8,["resource-handle","data","table-props","columns"])),[[k,e(t).data.loading]]):r("",!0),u("div",I,[u("div",null,[m[0]||(m[0]=F("Total: ")),u("strong",null,U(e(t).data.total),1)]),e(s)&&e(s).meta.last_page>1?(a(),i(y,{key:0,background:"",small:"",layout:"prev, pager, next, jumper","current-page":e(t).data.currentPage,"page-size":e(t).data.perPage,"pager-count":5,total:e(t).data.total,"onUpdate:pageSize":e(t).setPageSize,"onUpdate:currentPage":e(t).setPage},null,8,["current-page","page-size","total","onUpdate:pageSize","onUpdate:currentPage"])):r("",!0)])])}}};export{W as default};
