import{_ as b}from"./FieldBase-DdKDcODU.js";import{y as i,L as k,M as $,o as g,g as w,w as V,l as f,aq as F,u as r,ap as M,e as B,h as I,_ as y,a$ as E}from"./vendor-Ci2skXiS.js";import"./dropdown-menu-BIYjDwrS.js";import{u as L}from"./field-C2gsCxNh.js";import{u as Y}from"./FormBase-BoobTqgr.js";import"./Loading-BjVsGdfx.js";import"./main-BCEgg6q-.js";/* empty css             */const C=["innerHTML"],O={__name:"metaField",props:{formId:String,data:Object,path:String},setup(l){const e=l,o={normal:e.data.props&&e.data.props.length_normal?e.data.props.length_normal:20,max:e.data.props&&e.data.props.lengths_max?e.data.props.lengths_max:70},u=L(e),s=u.value(""),c=Y(e.formId),d=i(()=>e.data.props&&e.data.props.source?c.get(e.data.props.source):null),m=i(()=>{var a,p;const t=(a=e.data.props)!=null&&a.separator?` ${e.data.props.separator} `:" | ";return(p=e.data.props)!=null&&p.site_name?t+e.data.props.site_name:""});function _(t){c.mode=="create"&&(s.value=t+m.value)}k(()=>{var t;c.mode=="edit"&&!s.value&&(s.value=d.value?d.value+m.value:(t=e.data.props)==null?void 0:t.site_name)}),$(d,t=>{_(t)});const n=i(()=>{const t=s.value.length,a={};switch(a.percentage=Math.ceil(t*100/o.max),a.percentage=a.percentage>100?100:a.percentage,!0){case t<o.normal:a.status="warning",a.caption=`Your meta ${e.data.id} could be longer.`;break;case(t>=o.normal&&t<=o.max):a.status="success",a.caption=`Your meta ${e.data.id} is a good length.`;break;case t>o.max:a.status="exception",a.caption=`Your meta ${e.data.id} is too long, <strong>the ideal length is between ${o.normal} and ${o.max} characters.</strong>`;break}return a});return(t,a)=>{const p=y,h=E,x=b;return g(),w(x,{"form-id":l.formId,"field-props":e},{default:V(()=>[f(p,F({modelValue:r(s),"onUpdate:modelValue":a[0]||(a[0]=v=>M(s)?s.value=v:null),type:"textarea"},l.data.props,{disabled:r(u).disabled}),null,16,["modelValue","disabled"]),f(h,{class:"mt-2",percentage:r(n).percentage,"stroke-width":3,"text-inside":!0,status:r(n).status},null,8,["percentage","status"]),r(n).caption?(g(),B("span",{key:0,class:"info",innerHTML:r(n).caption},null,8,C)):I("",!0)]),_:1},8,["form-id","field-props"])}}};export{O as default};
