import{y as g,o as c,e as d,i as o,l as m,w as p,u as n,Y as B,t as i,n as b,a9 as y,W as $,g as _,B as I,h as k,ad as w,D as E,ac as O,F as N,q as T}from"./vendor-Ci2skXiS.js";/* empty css             */import{b as V}from"./main-BikrXCWR.js";const j={class:"output mt-2 relative"},D={class:"cursor-pointer absolute top-3 right-2.5"},F={__name:"Output",props:{command:Object},setup(a){const s=a,e=g(()=>s.command.output||s.command.error),u=()=>{delete s.command.output,delete s.command.error};return(l,f)=>{const t=y;return c(),d("div",j,[o("div",{class:b(["terminal",{error:a.command.error}])},[o("span",D,[m(t,{onClick:u},{default:p(()=>[m(n(B))]),_:1})]),o("pre",null,i(n(e)),1)],2)])}}},L={class:"flex"},R={class:"text-lg"},S={__name:"Command",props:{data:Object},setup(a){const e=$(a.data);function u(t){t.running=!0,t.dangerous?w.confirm(t.dangerous,t.name,{confirmButtonText:t.actionButton,cancelButtonText:"Cancel",confirmButtonClass:"el-button--danger"}).then(()=>{l(t)}).catch(()=>t.running=!1):l(t)}function l(t){Invicta.fetch.get(t.runUrl).then(({data:r})=>{Invicta.message(r.message),t.running=!1,t.output=r.output,t.error=r.error})}const f=g(()=>e.output||e.error);return(t,r)=>{const h=V,x=E,C=F,v=O;return c(),_(v,{class:"command"},{default:p(()=>[o("div",L,[m(h,{icon:n(e).icon,class:"command-icon mr-2 opacity-50"},null,8,["icon"]),o("div",null,[o("h3",R,i(n(e).name),1),o("p",null,i(n(e).description),1)]),m(x,{type:n(e).dangerous?"danger":"primary",class:"self-center w-32 ml-auto",onClick:r[0]||(r[0]=z=>u(n(e))),loading:n(e).running},{default:p(()=>[I(i(n(e).actionButton),1)]),_:1},8,["type","loading"])]),n(f)?(c(),_(C,{key:0,command:n(e)},null,8,["command"])):k("",!0)]),_:1})}}},q={class:"py-6 px-10 max-w-5xl mx-auto"},W=Object.assign({beforeRouteEnter:async function(a){let s=await Invicta.fetch.get(`api${a.path}`);a.meta.data=s}},{__name:"CommandsIndex",props:{commands:Array},setup(a){return Invicta.pageTitle("Commands"),(s,e)=>{const u=S;return c(),d("div",q,[e[0]||(e[0]=o("div",{class:"mb-4"},[o("h1",null,"Registered Commands"),o("p",{class:"info"},"List of registered artisan, or shell commands")],-1)),(c(!0),d(N,null,T(a.commands,l=>(c(),_(u,{data:l,class:"mb-4"},null,8,["data"]))),256))])}}});export{W as default};
