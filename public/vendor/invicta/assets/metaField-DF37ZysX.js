import{_ as b}from"./FieldBase-BZCqSXH4.js";import{y as i,J as k,K as w,o as g,f as V,w as $,k as f,aw as F,u as r,ag as B,d as I,g as M,Z as y,b3 as E}from"./vendor-CalzCiyh.js";import"./dropdown-menu-hHkMNFC_.js";import{u as Y}from"./field-ohOzcyTb.js";import{u as C}from"./FormBase-CxW-ONTk.js";import"./Loading-BOKjay5j.js";import"./main-qjqVsijA.js";/* empty css             */import"./dynamic-import-helper-BheWnx7M.js";const H=["innerHTML"],O={__name:"metaField",props:{formId:String,data:Object,path:String},setup(l){const e=l,o={normal:e.data.props&&e.data.props.length_normal?e.data.props.length_normal:20,max:e.data.props&&e.data.props.lengths_max?e.data.props.lengths_max:70},u=Y(e),s=u.value(""),d=C(e.formId),c=i(()=>e.data.props&&e.data.props.source?d.get(e.data.props.source):null),m=i(()=>{var a,p;const t=(a=e.data.props)!=null&&a.separator?` ${e.data.props.separator} `:" | ";return(p=e.data.props)!=null&&p.site_name?t+e.data.props.site_name:""});function _(t){d.mode=="create"&&(s.value=t+m.value)}k(()=>{var t;d.mode=="edit"&&!s.value&&(s.value=c.value?c.value+m.value:(t=e.data.props)==null?void 0:t.site_name)}),w(c,t=>{_(t)});const n=i(()=>{const t=s.value.length,a={};switch(a.percentage=Math.ceil(t*100/o.max),a.percentage=a.percentage>100?100:a.percentage,!0){case t<o.normal:a.status="warning",a.caption=`Your meta ${e.data.id} could be longer.`;break;case(t>=o.normal&&t<=o.max):a.status="success",a.caption=`Your meta ${e.data.id} is a good length.`;break;case t>o.max:a.status="exception",a.caption=`Your meta ${e.data.id} is too long, <strong>the ideal length is between ${o.normal} and ${o.max} characters.</strong>`;break}return a});return(t,a)=>{const p=y,h=E,x=b;return g(),V(x,{"form-id":l.formId,"field-props":e},{default:$(()=>[f(p,F({modelValue:r(s),"onUpdate:modelValue":a[0]||(a[0]=v=>B(s)?s.value=v:null),type:"textarea"},l.data.props,{disabled:r(u).disabled}),null,16,["modelValue","disabled"]),f(h,{class:"mt-2",percentage:r(n).percentage,"stroke-width":3,"text-inside":!0,status:r(n).status},null,8,["percentage","status"]),r(n).caption?(g(),I("span",{key:0,class:"info",innerHTML:r(n).caption},null,8,H)):M("",!0)]),_:1},8,["form-id","field-props"])}}};export{O as default};
