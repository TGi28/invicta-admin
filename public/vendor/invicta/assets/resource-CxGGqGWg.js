import{j as B,J as Dt,av as Rt,b8 as Tt,o as b,d as H,h as V,e as ot,u as j,f as N,n as We,g as K,ba as jt,F as he,k as E,w as $,bb as Lt,t as Le,p as dt,r as pt,bc as Mt,bd as Vt,W as Ht,B as me,be as It,a8 as Nt,aH as Wt,_ as qt,aF as Ft,aG as zt,H as Ut,aO as Xt,aQ as Jt,aR as Yt,D as _t,A as Kt,bf as Qt,aw as vt,bg as mt,V as Me,K as qe,a5 as Gt,y as Ve,a9 as He,aP as Zt,bh as en,ag as tn,bi as nn,Z as an,bj as on,bk as rn}from"./vendor-DNNQIDVf.js";/* empty css                 */import{a as gt}from"./main-bEgEWTd2.js";import{a as sn}from"./CheckTree-DMv88Hj1.js";/* empty css               *//* empty css                  */import{c as ln,d as cn}from"./functions-D7TSWOGs.js";var z="top",U="bottom",te="right",Q="left",Fe="auto",$e=[z,U,te,Q],ue="start",be="end",un="clippingParents",ht="viewport",ge="popper",fn="reference",rt=$e.reduce(function(e,t){return e.concat([t+"-"+ue,t+"-"+be])},[]),dn=[].concat($e,[Fe]).reduce(function(e,t){return e.concat([t,t+"-"+ue,t+"-"+be])},[]),pn="beforeRead",vn="read",mn="afterRead",gn="beforeMain",hn="main",yn="afterMain",bn="beforeWrite",wn="write",xn="afterWrite",On=[pn,vn,mn,gn,hn,yn,bn,wn,xn];function X(e){return e?(e.nodeName||"").toLowerCase():null}function q(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function le(e){var t=q(e).Element;return e instanceof t||e instanceof Element}function F(e){var t=q(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function ze(e){if(typeof ShadowRoot>"u")return!1;var t=q(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function kn(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var o=t.styles[n]||{},a=t.attributes[n]||{},r=t.elements[n];!F(r)||!X(r)||(Object.assign(r.style,o),Object.keys(a).forEach(function(i){var s=a[i];s===!1?r.removeAttribute(i):r.setAttribute(i,s===!0?"":s)}))})}function Sn(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(o){var a=t.elements[o],r=t.attributes[o]||{},i=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:n[o]),s=i.reduce(function(l,u){return l[u]="",l},{});!F(a)||!X(a)||(Object.assign(a.style,s),Object.keys(r).forEach(function(l){a.removeAttribute(l)}))})}}const Cn={name:"applyStyles",enabled:!0,phase:"write",fn:kn,effect:Sn,requires:["computeStyles"]};function ee(e){return e.split("-")[0]}var se=Math.max,Ee=Math.min,fe=Math.round;function Ie(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function yt(){return!/^((?!chrome|android).)*safari/i.test(Ie())}function de(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var o=e.getBoundingClientRect(),a=1,r=1;t&&F(e)&&(a=e.offsetWidth>0&&fe(o.width)/e.offsetWidth||1,r=e.offsetHeight>0&&fe(o.height)/e.offsetHeight||1);var i=le(e)?q(e):window,s=i.visualViewport,l=!yt()&&n,u=(o.left+(l&&s?s.offsetLeft:0))/a,c=(o.top+(l&&s?s.offsetTop:0))/r,m=o.width/a,d=o.height/r;return{width:m,height:d,top:c,right:u+m,bottom:c+d,left:u,x:u,y:c}}function bt(e){var t=de(e),n=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}function An(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ze(n)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function G(e){return q(e).getComputedStyle(e)}function En(e){return["table","td","th"].indexOf(X(e))>=0}function ne(e){return((le(e)?e.ownerDocument:e.document)||window.document).documentElement}function Be(e){return X(e)==="html"?e:e.assignedSlot||e.parentNode||(ze(e)?e.host:null)||ne(e)}function it(e){return!F(e)||G(e).position==="fixed"?null:e.offsetParent}function $n(e){var t=/firefox/i.test(Ie()),n=/Trident/i.test(Ie());if(n&&F(e)){var o=G(e);if(o.position==="fixed")return null}var a=Be(e);for(ze(a)&&(a=a.host);F(a)&&["html","body"].indexOf(X(a))<0;){var r=G(a);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||t&&r.willChange==="filter"||t&&r.filter&&r.filter!=="none")return a;a=a.parentNode}return null}function Pe(e){for(var t=q(e),n=it(e);n&&En(n)&&G(n).position==="static";)n=it(n);return n&&(X(n)==="html"||X(n)==="body"&&G(n).position==="static")?t:n||$n(e)||t}function wt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ce(e,t,n){return se(e,Ee(t,n))}function Bn(e,t,n){var o=Ce(e,t,n);return o>n?n:o}function xt(){return{top:0,right:0,bottom:0,left:0}}function Pn(e){return Object.assign({},xt(),e)}function Dn(e,t){return t.reduce(function(n,o){return n[o]=e,n},{})}function pe(e){return e.split("-")[1]}var Rn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Tn(e,t){var n=e.x,o=e.y,a=t.devicePixelRatio||1;return{x:fe(n*a)/a||0,y:fe(o*a)/a||0}}function st(e){var t,n=e.popper,o=e.popperRect,a=e.placement,r=e.variation,i=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,m=e.isFixed,d=i.x,v=d===void 0?0:d,O=i.y,y=O===void 0?0:O,h=typeof c=="function"?c({x:v,y}):{x:v,y};v=h.x,y=h.y;var S=i.hasOwnProperty("x"),w=i.hasOwnProperty("y"),C=Q,g=z,x=window;if(u){var k=Pe(n),P="clientHeight",L="clientWidth";if(k===q(n)&&(k=ne(n),G(k).position!=="static"&&s==="absolute"&&(P="scrollHeight",L="scrollWidth")),k=k,a===z||(a===Q||a===te)&&r===be){g=U;var A=m&&k===x&&x.visualViewport?x.visualViewport.height:k[P];y-=A-o.height,y*=l?1:-1}if(a===Q||(a===z||a===U)&&r===be){C=te;var D=m&&k===x&&x.visualViewport?x.visualViewport.width:k[L];v-=D-o.width,v*=l?1:-1}}var R=Object.assign({position:s},u&&Rn),I=c===!0?Tn({x:v,y},q(n)):{x:v,y};if(v=I.x,y=I.y,l){var T;return Object.assign({},R,(T={},T[g]=w?"0":"",T[C]=S?"0":"",T.transform=(x.devicePixelRatio||1)<=1?"translate("+v+"px, "+y+"px)":"translate3d("+v+"px, "+y+"px, 0)",T))}return Object.assign({},R,(t={},t[g]=w?y+"px":"",t[C]=S?v+"px":"",t.transform="",t))}function jn(e){var t=e.state,n=e.options,o=n.gpuAcceleration,a=o===void 0?!0:o,r=n.adaptive,i=r===void 0?!0:r,s=n.roundOffsets,l=s===void 0?!0:s,u={placement:ee(t.placement),variation:pe(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,st(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,st(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Ln={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:jn,data:{}};var Se={passive:!0};function Mn(e){var t=e.state,n=e.instance,o=e.options,a=o.scroll,r=a===void 0?!0:a,i=o.resize,s=i===void 0?!0:i,l=q(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&u.forEach(function(c){c.addEventListener("scroll",n.update,Se)}),s&&l.addEventListener("resize",n.update,Se),function(){r&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Se)}),s&&l.removeEventListener("resize",n.update,Se)}}const Vn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Mn,data:{}};var Hn={left:"right",right:"left",bottom:"top",top:"bottom"};function Ae(e){return e.replace(/left|right|bottom|top/g,function(t){return Hn[t]})}var In={start:"end",end:"start"};function lt(e){return e.replace(/start|end/g,function(t){return In[t]})}function Ue(e){var t=q(e),n=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:n,scrollTop:o}}function Xe(e){return de(ne(e)).left+Ue(e).scrollLeft}function Nn(e,t){var n=q(e),o=ne(e),a=n.visualViewport,r=o.clientWidth,i=o.clientHeight,s=0,l=0;if(a){r=a.width,i=a.height;var u=yt();(u||!u&&t==="fixed")&&(s=a.offsetLeft,l=a.offsetTop)}return{width:r,height:i,x:s+Xe(e),y:l}}function Wn(e){var t,n=ne(e),o=Ue(e),a=(t=e.ownerDocument)==null?void 0:t.body,r=se(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),i=se(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),s=-o.scrollLeft+Xe(e),l=-o.scrollTop;return G(a||n).direction==="rtl"&&(s+=se(n.clientWidth,a?a.clientWidth:0)-r),{width:r,height:i,x:s,y:l}}function Je(e){var t=G(e),n=t.overflow,o=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+o)}function Ot(e){return["html","body","#document"].indexOf(X(e))>=0?e.ownerDocument.body:F(e)&&Je(e)?e:Ot(Be(e))}function ye(e,t){var n;t===void 0&&(t=[]);var o=Ot(e),a=o===((n=e.ownerDocument)==null?void 0:n.body),r=q(o),i=a?[r].concat(r.visualViewport||[],Je(o)?o:[]):o,s=t.concat(i);return a?s:s.concat(ye(Be(i)))}function Ne(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function qn(e,t){var n=de(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function ct(e,t,n){return t===ht?Ne(Nn(e,n)):le(t)?qn(t,n):Ne(Wn(ne(e)))}function Fn(e){var t=ye(Be(e)),n=["absolute","fixed"].indexOf(G(e).position)>=0,o=n&&F(e)?Pe(e):e;return le(o)?t.filter(function(a){return le(a)&&An(a,o)&&X(a)!=="body"}):[]}function zn(e,t,n,o){var a=t==="clippingParents"?Fn(e):[].concat(t),r=[].concat(a,[n]),i=r[0],s=r.reduce(function(l,u){var c=ct(e,u,o);return l.top=se(c.top,l.top),l.right=Ee(c.right,l.right),l.bottom=Ee(c.bottom,l.bottom),l.left=se(c.left,l.left),l},ct(e,i,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function kt(e){var t=e.reference,n=e.element,o=e.placement,a=o?ee(o):null,r=o?pe(o):null,i=t.x+t.width/2-n.width/2,s=t.y+t.height/2-n.height/2,l;switch(a){case z:l={x:i,y:t.y-n.height};break;case U:l={x:i,y:t.y+t.height};break;case te:l={x:t.x+t.width,y:s};break;case Q:l={x:t.x-n.width,y:s};break;default:l={x:t.x,y:t.y}}var u=a?wt(a):null;if(u!=null){var c=u==="y"?"height":"width";switch(r){case ue:l[u]=l[u]-(t[c]/2-n[c]/2);break;case be:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}function Ye(e,t){t===void 0&&(t={});var n=t,o=n.placement,a=o===void 0?e.placement:o,r=n.strategy,i=r===void 0?e.strategy:r,s=n.boundary,l=s===void 0?un:s,u=n.rootBoundary,c=u===void 0?ht:u,m=n.elementContext,d=m===void 0?ge:m,v=n.altBoundary,O=v===void 0?!1:v,y=n.padding,h=y===void 0?0:y,S=Pn(typeof h!="number"?h:Dn(h,$e)),w=d===ge?fn:ge,C=e.rects.popper,g=e.elements[O?w:d],x=zn(le(g)?g:g.contextElement||ne(e.elements.popper),l,c,i),k=de(e.elements.reference),P=kt({reference:k,element:C,strategy:"absolute",placement:a}),L=Ne(Object.assign({},C,P)),A=d===ge?L:k,D={top:x.top-A.top+S.top,bottom:A.bottom-x.bottom+S.bottom,left:x.left-A.left+S.left,right:A.right-x.right+S.right},R=e.modifiersData.offset;if(d===ge&&R){var I=R[a];Object.keys(D).forEach(function(T){var J=[te,U].indexOf(T)>=0?1:-1,Y=[z,U].indexOf(T)>=0?"y":"x";D[T]+=I[Y]*J})}return D}function Un(e,t){t===void 0&&(t={});var n=t,o=n.placement,a=n.boundary,r=n.rootBoundary,i=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?dn:l,c=pe(o),m=c?s?rt:rt.filter(function(O){return pe(O)===c}):$e,d=m.filter(function(O){return u.indexOf(O)>=0});d.length===0&&(d=m);var v=d.reduce(function(O,y){return O[y]=Ye(e,{placement:y,boundary:a,rootBoundary:r,padding:i})[ee(y)],O},{});return Object.keys(v).sort(function(O,y){return v[O]-v[y]})}function Xn(e){if(ee(e)===Fe)return[];var t=Ae(e);return[lt(e),t,lt(t)]}function Jn(e){var t=e.state,n=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var a=n.mainAxis,r=a===void 0?!0:a,i=n.altAxis,s=i===void 0?!0:i,l=n.fallbackPlacements,u=n.padding,c=n.boundary,m=n.rootBoundary,d=n.altBoundary,v=n.flipVariations,O=v===void 0?!0:v,y=n.allowedAutoPlacements,h=t.options.placement,S=ee(h),w=S===h,C=l||(w||!O?[Ae(h)]:Xn(h)),g=[h].concat(C).reduce(function(ce,Z){return ce.concat(ee(Z)===Fe?Un(t,{placement:Z,boundary:c,rootBoundary:m,padding:u,flipVariations:O,allowedAutoPlacements:y}):Z)},[]),x=t.rects.reference,k=t.rects.popper,P=new Map,L=!0,A=g[0],D=0;D<g.length;D++){var R=g[D],I=ee(R),T=pe(R)===ue,J=[z,U].indexOf(I)>=0,Y=J?"width":"height",f=Ye(t,{placement:R,boundary:c,rootBoundary:m,altBoundary:d,padding:u}),p=J?T?te:Q:T?U:z;x[Y]>k[Y]&&(p=Ae(p));var M=Ae(p),W=[];if(r&&W.push(f[I]<=0),s&&W.push(f[p]<=0,f[M]<=0),W.every(function(ce){return ce})){A=R,L=!1;break}P.set(R,W)}if(L)for(var ae=O?3:1,we=function(Z){var ve=g.find(function(Oe){var re=P.get(Oe);if(re)return re.slice(0,Z).every(function(De){return De})});if(ve)return A=ve,"break"},oe=ae;oe>0;oe--){var xe=we(oe);if(xe==="break")break}t.placement!==A&&(t.modifiersData[o]._skip=!0,t.placement=A,t.reset=!0)}}const Yn={name:"flip",enabled:!0,phase:"main",fn:Jn,requiresIfExists:["offset"],data:{_skip:!1}};function _n(e){var t=e.state,n=e.name;t.modifiersData[n]=kt({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Kn={name:"popperOffsets",enabled:!0,phase:"read",fn:_n,data:{}};function Qn(e){return e==="x"?"y":"x"}function Gn(e){var t=e.state,n=e.options,o=e.name,a=n.mainAxis,r=a===void 0?!0:a,i=n.altAxis,s=i===void 0?!1:i,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,m=n.padding,d=n.tether,v=d===void 0?!0:d,O=n.tetherOffset,y=O===void 0?0:O,h=Ye(t,{boundary:l,rootBoundary:u,padding:m,altBoundary:c}),S=ee(t.placement),w=pe(t.placement),C=!w,g=wt(S),x=Qn(g),k=t.modifiersData.popperOffsets,P=t.rects.reference,L=t.rects.popper,A=typeof y=="function"?y(Object.assign({},t.rects,{placement:t.placement})):y,D=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(k){if(r){var T,J=g==="y"?z:Q,Y=g==="y"?U:te,f=g==="y"?"height":"width",p=k[g],M=p+h[J],W=p-h[Y],ae=v?-L[f]/2:0,we=w===ue?P[f]:L[f],oe=w===ue?-L[f]:-P[f],xe=t.elements.arrow,ce=v&&xe?bt(xe):{width:0,height:0},Z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:xt(),ve=Z[J],Oe=Z[Y],re=Ce(0,P[f],ce[f]),De=C?P[f]/2-ae-re-ve-D.mainAxis:we-re-ve-D.mainAxis,Ct=C?-P[f]/2+ae+re+Oe+D.mainAxis:oe+re+Oe+D.mainAxis,Re=t.elements.arrow&&Pe(t.elements.arrow),At=Re?g==="y"?Re.clientTop||0:Re.clientLeft||0:0,_e=(T=R==null?void 0:R[g])!=null?T:0,Et=p+De-_e-At,$t=p+Ct-_e,Ke=Ce(v?Ee(M,Et):M,p,v?se(W,$t):W);k[g]=Ke,I[g]=Ke-p}if(s){var Qe,Bt=g==="x"?z:Q,Pt=g==="x"?U:te,ie=k[x],ke=x==="y"?"height":"width",Ge=ie+h[Bt],Ze=ie-h[Pt],Te=[z,Q].indexOf(S)!==-1,et=(Qe=R==null?void 0:R[x])!=null?Qe:0,tt=Te?Ge:ie-P[ke]-L[ke]-et+D.altAxis,nt=Te?ie+P[ke]+L[ke]-et-D.altAxis:Ze,at=v&&Te?Bn(tt,ie,nt):Ce(v?tt:Ge,ie,v?nt:Ze);k[x]=at,I[x]=at-ie}t.modifiersData[o]=I}}const Zn={name:"preventOverflow",enabled:!0,phase:"main",fn:Gn,requiresIfExists:["offset"]};function ea(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function ta(e){return e===q(e)||!F(e)?Ue(e):ea(e)}function na(e){var t=e.getBoundingClientRect(),n=fe(t.width)/e.offsetWidth||1,o=fe(t.height)/e.offsetHeight||1;return n!==1||o!==1}function aa(e,t,n){n===void 0&&(n=!1);var o=F(t),a=F(t)&&na(t),r=ne(t),i=de(e,a,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(o||!o&&!n)&&((X(t)!=="body"||Je(r))&&(s=ta(t)),F(t)?(l=de(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=Xe(r))),{x:i.left+s.scrollLeft-l.x,y:i.top+s.scrollTop-l.y,width:i.width,height:i.height}}function oa(e){var t=new Map,n=new Set,o=[];e.forEach(function(r){t.set(r.name,r)});function a(r){n.add(r.name);var i=[].concat(r.requires||[],r.requiresIfExists||[]);i.forEach(function(s){if(!n.has(s)){var l=t.get(s);l&&a(l)}}),o.push(r)}return e.forEach(function(r){n.has(r.name)||a(r)}),o}function ra(e){var t=oa(e);return On.reduce(function(n,o){return n.concat(t.filter(function(a){return a.phase===o}))},[])}function ia(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function sa(e){var t=e.reduce(function(n,o){var a=n[o.name];return n[o.name]=a?Object.assign({},a,o,{options:Object.assign({},a.options,o.options),data:Object.assign({},a.data,o.data)}):o,n},{});return Object.keys(t).map(function(n){return t[n]})}var ut={placement:"bottom",modifiers:[],strategy:"absolute"};function ft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function la(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,o=n===void 0?[]:n,a=t.defaultOptions,r=a===void 0?ut:a;return function(s,l,u){u===void 0&&(u=r);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},ut,r),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},m=[],d=!1,v={state:c,setOptions:function(S){var w=typeof S=="function"?S(c.options):S;y(),c.options=Object.assign({},r,c.options,w),c.scrollParents={reference:le(s)?ye(s):s.contextElement?ye(s.contextElement):[],popper:ye(l)};var C=ra(sa([].concat(o,c.options.modifiers)));return c.orderedModifiers=C.filter(function(g){return g.enabled}),O(),v.update()},forceUpdate:function(){if(!d){var S=c.elements,w=S.reference,C=S.popper;if(ft(w,C)){c.rects={reference:aa(w,Pe(C),c.options.strategy==="fixed"),popper:bt(C)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(D){return c.modifiersData[D.name]=Object.assign({},D.data)});for(var g=0;g<c.orderedModifiers.length;g++){if(c.reset===!0){c.reset=!1,g=-1;continue}var x=c.orderedModifiers[g],k=x.fn,P=x.options,L=P===void 0?{}:P,A=x.name;typeof k=="function"&&(c=k({state:c,options:L,name:A,instance:v})||c)}}}},update:ia(function(){return new Promise(function(h){v.forceUpdate(),h(c)})}),destroy:function(){y(),d=!0}};if(!ft(s,l))return v;v.setOptions(u).then(function(h){!d&&u.onFirstUpdate&&u.onFirstUpdate(h)});function O(){c.orderedModifiers.forEach(function(h){var S=h.name,w=h.options,C=w===void 0?{}:w,g=h.effect;if(typeof g=="function"){var x=g({state:c,name:S,instance:v,options:C}),k=function(){};m.push(x||k)}})}function y(){m.forEach(function(h){return h()}),m=[]}return v}}var ca=[Vn,Kn,Ln,Cn],ua=la({defaultModifiers:ca});const fa=["aria-expanded"],da={class:"popover-content"},pa={__name:"Popover",props:{disabled:{type:Boolean,default:!1},placement:{type:String,default:"bottom-end"}},setup(e){const t=e,n=B(!1),o=B(),a=B();let r;Dt(()=>{t.disabled||u()});const i=()=>{n.value=!0,r.update()},s=()=>n.value=!1,l=()=>n.value?s():i();Rt("esc",c=>{c.preventDefault(),s()});function u(){r=ua(o.value,a.value,{placement:t.placement,modifiers:[Yn,Zn]})}return Tt(a,()=>s()),(c,m)=>(b(),H(he,null,[V("div",{onClick:l,ref_key:"trigger",ref:o,class:"popover-trigger","aria-haspopup":"true","aria-expanded":j(n)},[ot(c.$slots,"trigger")],8,fa),(b(),N(jt,{to:"#poppers"},[e.disabled?K("",!0):(b(),H("div",{key:0,ref_key:"popover",ref:a,class:We(["popover",{open:j(n)}])},[V("div",da,[ot(c.$slots,"default",{close:s})])],2))]))],64))}},va={class:"actions-popover flex items-center"},ma={title:"More actions",class:"action-icon"},ga={class:"text-center my-2 opacity-60"},ha=["onClick"],ya={key:0,class:"divider"},ba={__name:"ActionsDropdown",props:{actions:Array,item:Number|Object,title:String},emits:["close","selected"],setup(e,{emit:t}){const n=e,o=t,a=r=>{console.log("inside actions dropdown",r);let i="action"in r?r.action:r;o("selected",{action:i,item:n.item})};return(r,i)=>{const s=gt,l=pa;return b(),H("div",va,[E(l,null,{trigger:$(()=>[V("span",ma,[E(s,{icon:j(Lt),width:18},null,8,["icon"])])]),default:$(({close:u})=>[e.title?(b(),H(he,{key:0},[V("p",ga,Le(e.title),1),i[0]||(i[0]=V("div",{class:"divider"},null,-1))],64)):K("",!0),V("ul",null,[(b(!0),H(he,null,dt(e.actions,c=>(b(),H(he,null,[V("li",{onClick:m=>{a(c),u()},class:We(["el-dropdown-menu__item",{danger:c.danger}])},Le(c.name),11,ha),c.divider?(b(),H("li",ya)):K("",!0)],64))),256))])]),_:1})])}}},wa={class:"actions flex items-center justify-end"},xa={__name:"RowActions",props:{id:Number,resourceHandle:String,actions:Array,hasDetail:Boolean,canEdit:Boolean,canDelete:Boolean},setup(e){const t=e,n=o=>{console.log("action call",o),Invicta.emit("action-called",{action:o.action,selected:[t.id]})};return(o,a)=>{const r=ba,i=gt,s=pt("router-link");return b(),H("div",wa,[e.actions.length?(b(),N(r,{key:0,actions:e.actions,item:e.id,onSelected:n,class:"mr-2"},null,8,["actions","item"])):K("",!0),e.hasDetail?(b(),N(s,{key:1,to:{name:"resourceDetail",params:{id:e.id,handle:e.resourceHandle}},class:"action-icon"},{default:$(()=>[E(i,{icon:j(Mt)},null,8,["icon"])]),_:1},8,["to"])):K("",!0),e.canEdit?(b(),N(s,{key:2,to:{name:"resourceEdit",params:{id:e.id,handle:e.resourceHandle}},class:"action-icon"},{default:$(()=>[E(i,{icon:j(Vt)},null,8,["icon"])]),_:1},8,["to"])):K("",!0),e.canDelete?(b(),H("span",{key:3,class:"action-icon",onClick:a[0]||(a[0]=l=>o.$emit("delete",[e.id])),title:"Delete Item"},[E(i,{icon:j(Ht)},null,8,["icon"])])):K("",!0)])}}},Oa={class:"table-settings flex p-4"},ka={class:"settings pr-4"},Sa={class:"columns pl-4"},Ca={__name:"TableSettings",props:{treeModel:Array,tableProps:Object},setup(e){return(t,n)=>{const o=Nt,a=Wt,r=qt,i=Ft,s=zt,l=sn,u=Ut;return b(),N(u,{trigger:"click",class:"!align-middle",teleported:""},{dropdown:$(()=>[V("div",Oa,[V("div",ka,[n[9]||(n[9]=V("h4",{class:"mb-1"},"Settings",-1)),E(r,null,{default:$(()=>[E(a,{modelValue:e.tableProps.stripe,"onUpdate:modelValue":n[0]||(n[0]=c=>e.tableProps.stripe=c)},{default:$(()=>n[3]||(n[3]=[me("Striped")])),_:1},8,["modelValue"])]),_:1}),E(r,null,{default:$(()=>[E(a,{modelValue:e.tableProps.border,"onUpdate:modelValue":n[1]||(n[1]=c=>e.tableProps.border=c)},{default:$(()=>n[4]||(n[4]=[me("Border")])),_:1},8,["modelValue"])]),_:1}),E(r,null,{default:$(()=>[n[8]||(n[8]=V("label",null,"Size",-1)),E(s,{modelValue:e.tableProps.size,"onUpdate:modelValue":n[2]||(n[2]=c=>e.tableProps.size=c),placeholder:"Size"},{default:$(()=>[E(i,{value:"small"},{default:$(()=>n[5]||(n[5]=[me("Small")])),_:1}),E(i,{value:"default"},{default:$(()=>n[6]||(n[6]=[me("Default")])),_:1}),E(i,{value:"large"},{default:$(()=>n[7]||(n[7]=[me("Large")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),V("div",Sa,[n[10]||(n[10]=V("h4",{class:"mb-1"},"Columns",-1)),E(l,{"initial-items":e.treeModel,disabled:!1,depth:1},null,8,["initial-items"])])])]),default:$(()=>[E(o,{class:"action-icon"},{default:$(()=>[E(j(It))]),_:1})]),_:1})}}},Aa=["innerHTML"],Ea=["innerHTML"],$a={__name:"CopyText",props:{text:String|Number,canCopy:Boolean},setup(e){const t=e,{copy:n,copied:o,isSupported:a}=Xt();function r(){Invicta.message({type:"success",title:"Copied to clipboard!"})}function i(){const s=/.+class=".*copy[^\>]+>([^\<]+)<\//;let l=t.text.match(s),u=t.text.replace(/<[^>]*>/g,"");return l&&l[1]&&(u=l[1].replace(/<[^>]*>/g,"")),u}return(s,l)=>{const u=_t,c=Kt;return e.canCopy&&j(a)?(b(),N(c,{key:0,effect:"light",placement:"left"},{content:$(()=>[j(o)?(b(),N(u,{key:1,icon:j(Yt),type:"success",onClick:l[1]||(l[1]=m=>o.value=!1)},null,8,["icon"])):(b(),N(u,{key:0,icon:j(Jt),onClick:l[0]||(l[0]=m=>{j(n)(i()),r()}),title:"Click to copy to clipboard"},null,8,["icon"]))]),default:$(()=>[V("div",{innerHTML:e.text},null,8,Aa)]),_:1})):(b(),H("div",{key:1,innerHTML:e.text},null,8,Ea))}}},Ba={key:1},Pa=["onClick"],Da={class:"edit-link"},Ra={class:"edit-link"},Ta={key:5},ja={__name:"Column",props:{id:String,props:Object,canEdit:Boolean,hasDetail:Boolean},setup(e){const t=(a,r=!1)=>a.boolean?"center":r?a.headerAlign:a.align;function n(a,r){return Array.isArray(a)?a.map(i=>i[r]).join(", "):typeof a=="object"?a[r]:a}function o(a,r){let i=a.split("/");return i.length&&(i.forEach((s,l)=>{if(s.includes(":")){let u=s.substring(1),c=r[u]??null;c&&(i[l]=c)}}),i=i.join("/")),i}return(a,r)=>{const i=$a,s=pt("router-link"),l=mt;return b(),N(l,vt({prop:e.id},e.props,{align:t(e.props),"header-align":t(e.props,!0),sortable:e.props.sortable?"custom":!1,"column-key":e.props.editLink||e.props.customLink?"no-select":null}),{default:$(u=>[e.props.boolean?(b(),H("i",{key:0,class:We(["icon-status",{success:u.row[e.id]}])},null,2)):e.props.list?(b(),H("div",Ba,Le(n(u.row[e.id],e.props.titleField)),1)):e.props.editLink&&e.canEdit?(b(),H("div",{key:2,onClick:Qt(c=>a.$emit("edit",u.row.id),["prevent"]),class:"edit-link"},[E(i,{text:u.row[e.id],"can-copy":e.props.canCopy},null,8,["text","can-copy"])],8,Pa)):e.props.customLink&&e.canEdit?(b(),N(s,{key:3,to:o(e.props.customLink,u.row)},{default:$(()=>[V("span",Da,[E(i,{text:u.row[e.id],"can-copy":e.props.canCopy},null,8,["text","can-copy"])])]),_:2},1032,["to"])):e.props.detailLink&&e.hasDetail?(b(),N(s,{key:4,to:{name:"resourceDetail",params:{id:u.row.id}}},{default:$(()=>[V("span",Ra,[E(i,{text:u.row[e.id],"can-copy":e.props.canCopy},null,8,["text","can-copy"])])]),_:2},1032,["to"])):(b(),H("div",Ta,[E(i,{text:u.row[e.id],"can-copy":e.props.canCopy},null,8,["text","can-copy"])]))]),_:1},16,["prop","align","header-align","sortable","column-key"])}}},La={class:"resource-table"},za={__name:"ResourceTable",props:{resourceHandle:String,data:Array,tableProps:Object,columns:Object,canEdit:{type:Boolean,default:!1},canDelete:{type:Boolean,default:!1},hasDetail:{type:Boolean,default:!1},noActions:{type:Boolean,default:!1},singleSelect:{type:Boolean,default:!1},noSelect:{type:Boolean,default:!1},columnsSelect:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=e,o=B(),a=B([]),r=Me(JSON.parse(Invicta.remember("table-settings"))??n.tableProps);qe(r,m=>{Invicta.remember("table-settings",JSON.stringify(m))});let i=Gt(n.columns,(m,d)=>({label:m.label,value:d,checked:!m.hidden}));a.value=n.columnsSelect&&JSON.parse(Invicta.remember(`${n.resourceHandle}-index-columns`))||i;const s=Ve(()=>{let m=ln(a.value);return n.columnsSelect&&Invicta.remember(`${n.resourceHandle}-index-columns`,JSON.stringify(a.value)),He(n.columns,(d,v)=>m.includes(v))});r.value=JSON.parse(Invicta.remember(`${n.tableProps}`));const l=({prop:m,order:d})=>{console.log("before sort event",m,d),Invicta.emit("sort-change",{prop:m,order:d})},u=(m,d,v)=>{!d.columnKey&&d.columnKey!="no-select"&&o.value.toggleRowSelection(m,void 0)};return t({clearSelection:()=>{o.value.clearSelection()}}),(m,d)=>{const v=mt,O=ja,y=Ca,h=xa,S=en;return b(),H("div",La,[E(S,vt({ref_key:"resourceTableRef",ref:o,data:e.data},j(r),{"highlight-current-row":"",onSelectionChange:d[2]||(d[2]=w=>m.$emit("select",w)),onCurrentChange:d[3]||(d[3]=w=>m.$emit("single-select",w)),onSortChange:l,onRowClick:u}),{default:$(()=>[!e.singleSelect&&!e.noSelect?(b(),N(v,{key:0,type:"selection",fixed:""})):K("",!0),(b(!0),H(he,null,dt(j(s),(w,C)=>(b(),N(O,{id:C,props:w,"can-edit":e.canEdit,"has-detail":e.hasDetail,onEdit:d[0]||(d[0]=g=>m.$emit("edit",g))},null,8,["id","props","can-edit","has-detail"]))),256)),e.noActions?K("",!0):(b(),N(v,{key:1,width:"100","header-align":"right","column-key":"no-select",fixed:"right"},Zt({default:$(w=>[E(h,{id:w.row.id,"resource-handle":e.resourceHandle,actions:w.row.actions||[],"can-edit":e.canEdit,"can-delete":e.canDelete,"has-detail":e.hasDetail,onDelete:d[1]||(d[1]=C=>m.$emit("delete",C))},null,8,["id","resource-handle","actions","can-edit","can-delete","has-detail"])]),_:2},[e.columnsSelect?{name:"header",fn:$(()=>[E(y,{"tree-model":j(a),"table-props":j(r)},null,8,["tree-model","table-props"])]),key:"0"}:void 0]),1024))]),_:1},16,["data"])])}}},Ua={__name:"Search",props:{currentSearch:{type:String,default:""},searchStrings:{type:Object,default:()=>({placeholder:"Search",title:"Type to search"})}},emits:["update"],setup(e,{emit:t}){const n=e,o=t,a=B(n.currentSearch);return qe(a,cn(r=>{console.log("debouncing works",r),o("update",r)},400)),(r,i)=>{const s=an;return b(),N(s,{modelValue:j(a),"onUpdate:modelValue":i[0]||(i[0]=l=>tn(a)?a.value=l:null),clearable:"",placeholder:e.searchStrings.placeholder,title:e.searchStrings.title,"prefix-icon":j(nn),size:"large",onClear:i[1]||(i[1]=l=>a.value="")},null,8,["modelValue","placeholder","title","prefix-icon"])}}},_=window.Invicta,je=new Map,Ma=(e,t)=>{let n=`resource-${e}`;return je.has(n)||je.set(n,t),je.get(n)},St=e=>{const t=e,n=B(""),o=B([]),a=Ma(e,Me({settings:null,filters:null,actions:null})),r=B(""),i=B(1),s=B(),l=B(),u=B(),c=B(0),m=B(""),d=B({}),v=B([]);B({}),B({});const O=B(!1),y=B(null),h=B(!1),S=f=>{console.log("see you change locale",f,n,t),r.value=f,i.value=1},w=f=>{console.log("see that you want to change page",i.value,f),i.value=f},C=f=>{console.log("changing page size",s.value,f),s.value=f},g=(f,p)=>{p?(l.value=p=="ascending"?"asc":"desc",u.value=f):(u.value=null,l.value=null)};_.on("sort-change",({prop:f,order:p})=>{console.log("we have sort event",f,p),g(f,p)});const x=f=>{i.value=1,m.value=f,console.log("I get some searching",f,A)},k=({filter:f,handle:p})=>{for(const[M,W]of Object.entries(f))typeof W=="string"&&W===""?delete d.value[M]:d.value={...d.value,...f};i.value=1};_.on("update-filters",k);const P=Ve(()=>Object.keys(d.value).length?btoa(JSON.stringify(d.value)):null),L=()=>{i.value=1,d.value={}},A=Ve(()=>({page:i.value,per_page:s.value,sort_by:u.value,sort_order:l.value,search:m.value,filters:P.value,locale:r.value}));qe(A,()=>{console.log("Something changed in requestQuery",A),I()});function D(f){let p=!0;a.settings&&(console.log("Ive been here already"),_.pageTitle(a.settings.title)),console.log("1. init Index",f.path),n.value=`api${f.path}`,f.query.search&&(m.value=f.query.search,p=!1),f.query.page&&(i.value=Number(f.query.page),p=!1),f.query.filters&&(d.value=JSON.parse(atob(f.query.filters)),p=!1),f.query.sort_by&&f.query.sort_order&&(g(f.query.sort_by,f.query.sort_order),p=!1),p&&I(),T(),J()}function R(f,p){console.log("we are startin a form",e,a),O.value=!0,n.value=f,i.value=p.meta.current_page,o.value=p.data,c.value=p.meta.total,v.value=p.meta.filterBadges,y.value=p.params,p.meta.settings&&(a.settings={...p.meta.settings})}function I(){h.value=!0;let f=He(A.value,(p,M)=>{if(p)return M=="page"?p>1:!0});console.log("2. I should change",n.value,A.value),O.value?(f=y.value?{...f,...y.value}:f,console.log("3. this if form with possible params",f)):(console.log("3. I have this query",f),_.router.replace({query:f})),a.settings||(f.settings=!0),_.axios.get(n.value,{params:f}).then(({data:p})=>{console.log("4. got some new data",p),o.value=p.data,c.value=p.meta.total,v.value=p.meta.filterBadges,p.meta.settings&&(a.settings=p.meta.settings,_.pageTitle(p.meta.settings.title)),h.value=!1})}function T(f=null){if(a.filters===null){let p=f?`api/resource/${f}/filters`:`${n.value}/filters`;_.axios.get(p).then(({data:M})=>{M.length?a.filters=M.map(W=>{let ae="";return Object.keys(d.value).length&&(ae=rn(d.value,(we,oe)=>W.class==oe)[0]),W.initialValue=ae,W}):a.filters=!1})}}function J(){a.actions===null&&_.axios.get(`${n.value}/actions`).then(({data:f})=>{f.length?a.actions=f.reduce((p,M)=>(p[M.type]=p[M.type]||[],p[M.type].push(M),p),{}):a.actions=!1})}function Y(){let f=He(A.value);return f.selectAll=!0,_.axios.get(n.value,{params:f})}return{initIndex:D,initForm:R,getResource:I,setSearch:x,setLocale:S,setPage:w,setPageSize:C,selectAll:Y,getResourceFilters:T,clearFilters:L,static:a,data:Me({resourceData:o,filterBadges:v,activeFilters:d,currentPage:i,perPage:s,total:c,loading:h})}},Xa=on(St),Ja=St;export{ba as _,za as a,Ua as b,Ja as c,pa as d,Xa as u};
