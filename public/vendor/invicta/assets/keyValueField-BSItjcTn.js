import{_ as B}from"./FieldBase-DdKDcODU.js";import{k as $,M as g,ab as F,a6 as S,o as r,g as x,w as f,i as e,t as c,e as _,F as C,q as L,u as h,p as k,bo as v,l as y,b3 as N,B as U,D}from"./vendor-Ci2skXiS.js";import{u as O}from"./field-C2gsCxNh.js";import"./dropdown-menu-BIYjDwrS.js";import"./Loading-BjVsGdfx.js";import"./main-BCEgg6q-.js";import"./FormBase-BoobTqgr.js";/* empty css             */const E={class:"keyValue-table"},I={colspan:"2"},M={class:"w-1/4"},R=["name","onUpdate:modelValue"],T=["name","onUpdate:modelValue"],j={class:"action"},q={class:"mt-3"},X={__name:"keyValueField",props:{formId:String,data:Object,path:String},setup(a){const m=a,p=O(m).value({}),o=$(V(p.value));g(()=>o.value,(t,u)=>{p.value=t.reduce((l,n)=>(l[n.key]=n.value,l),{})},{deep:!0});function V(t){return F(t)&&(t=JSON.parse(t)),S(Object.entries(t),([u,l])=>({key:`${u}`,value:l}))}function b(){let t={key:"",value:""};o.value.push(t)}function w(t){o.value.splice(t,1)}return(t,u)=>{const l=D,n=B;return r(),x(n,{"form-id":a.formId,"field-props":m},{default:f(()=>[e("table",E,[e("thead",null,[e("tr",null,[e("th",null,c(a.data.keyLabel||"Key"),1),e("th",I,c(a.data.valueLabel||"Value"),1)])]),e("tbody",null,[(r(!0),_(C,null,L(h(o),(s,i)=>(r(),_("tr",null,[e("td",M,[k(e("input",{name:`${a.data.id}-key-${i}`,"onUpdate:modelValue":d=>s.key=d},null,8,R),[[v,s.key]])]),e("td",null,[k(e("input",{name:`${a.data.id}-value-${i}`,"onUpdate:modelValue":d=>s.value=d},null,8,T),[[v,s.value]])]),e("td",j,[y(l,{text:"",onClick:d=>w(i),icon:h(N)},null,8,["onClick","icon"])])]))),256))])]),e("div",q,[y(l,{type:"primary",onClick:b},{default:f(()=>[U(c(a.data.addLabel||"Add"),1)]),_:1})])]),_:1},8,["form-id","field-props"])}}};export{X as default};
