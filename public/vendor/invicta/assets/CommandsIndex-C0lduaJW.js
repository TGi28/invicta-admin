import{y as g,o as c,d,h as o,k as m,w as p,u as e,X as B,t as i,n as b,a8 as y,V as $,f as _,B as k,g as I,ac as w,D as E,ab as O,F as V,p as N}from"./vendor-DpzuCX-L.js";/* empty css             */import{b as T}from"./main-DjFvluOL.js";const j={class:"output mt-2 relative"},D={class:"cursor-pointer absolute top-3 right-2.5"},F={__name:"Output",props:{command:Object},setup(a){const s=a,n=g(()=>s.command.output||s.command.error),u=()=>{delete s.command.output,delete s.command.error};return(l,f)=>{const t=y;return c(),d("div",j,[o("div",{class:b(["terminal",{error:a.command.error}])},[o("span",D,[m(t,{onClick:u},{default:p(()=>[m(e(B))]),_:1})]),o("pre",null,i(e(n)),1)],2)])}}},L={class:"flex"},R={class:"text-lg"},S={__name:"Command",props:{data:Object},setup(a){const n=$(a.data);function u(t){t.running=!0,t.dangerous?w.confirm(t.dangerous,t.name,{confirmButtonText:t.actionButton,cancelButtonText:"Cancel",confirmButtonClass:"el-button--danger"}).then(()=>{l(t)}).catch(()=>t.running=!1):l(t)}function l(t){Invicta.axios.get(t.runUrl).then(({data:r})=>{Invicta.message(r.message),t.running=!1,t.output=r.output,t.error=r.error})}const f=g(()=>n.output||n.error);return(t,r)=>{const x=T,h=E,C=F,v=O;return c(),_(v,{class:"command"},{default:p(()=>[o("div",L,[m(x,{icon:e(n).icon,class:"command-icon mr-2 opacity-50"},null,8,["icon"]),o("div",null,[o("h3",R,i(e(n).name),1),o("p",null,i(e(n).description),1)]),m(h,{type:e(n).dangerous?"danger":"primary",class:"self-center w-32 ml-auto",onClick:r[0]||(r[0]=A=>u(e(n))),loading:e(n).running},{default:p(()=>[k(i(e(n).actionButton),1)]),_:1},8,["type","loading"])]),e(f)?(c(),_(C,{key:0,command:e(n)},null,8,["command"])):I("",!0)]),_:1})}}},z={class:"py-6 px-10 max-w-5xl mx-auto"},q=Object.assign({beforeRouteEnter:async function(a){let{data:s}=await Invicta.axios.get(`api${a.path}`);a.meta.data=s}},{__name:"CommandsIndex",props:{commands:Array},setup(a){return Invicta.pageTitle("Commands"),(s,n)=>{const u=S;return c(),d("div",z,[n[0]||(n[0]=o("div",{class:"mb-4"},[o("h1",null,"Registered Commands"),o("p",{class:"info"},"List of registered artisan, or shell commands")],-1)),(c(!0),d(V,null,N(a.commands,l=>(c(),_(u,{data:l,class:"mb-4"},null,8,["data"]))),256))])}}});export{q as default};
